# UI Layer - Atomic Design Architecture

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Atomic DesignåŸå‰‡ã«åŸºã¥ã„ã¦æ§‹æˆã•ã‚ŒãŸUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## Directory Structure

```
ui/
â”œâ”€â”€ atoms/              # åŸå­ - æœ€å°å˜ä½ã®UIè¦ç´ 
â”‚   â”œâ”€â”€ AppButton.kt        # ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AppCard.kt          # ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AppIcon.kt          # ã‚¢ã‚¤ã‚³ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ AppText.kt          # ãƒ†ã‚­ã‚¹ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ AppTheme.kt         # ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒå®šç¾©
â”‚
â”œâ”€â”€ molecules/          # åˆ†å­ - Atomsã®çµ„ã¿åˆã‚ã›
â”‚   â”œâ”€â”€ ActionButtonGroup.kt     # ãƒœã‚¿ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—
â”‚   â”œâ”€â”€ EmptyStateMessage.kt     # ç©ºçŠ¶æ…‹è¡¨ç¤º
â”‚   â”œâ”€â”€ ErrorMessage.kt          # ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
â”‚   â”œâ”€â”€ ProjectCardItem.kt       # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚«ãƒ¼ãƒ‰
â”‚   â””â”€â”€ SaveStateIndicator.kt    # ä¿å­˜çŠ¶æ…‹è¡¨ç¤º
â”‚
â”œâ”€â”€ organisms/          # æœ‰æ©Ÿä½“ - å¤§ããªUIã‚»ã‚¯ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ EditorToolbar.kt         # ã‚¨ãƒ‡ã‚£ã‚¿ãƒ„ãƒ¼ãƒ«ãƒãƒ¼
â”‚   â””â”€â”€ ProjectList.kt           # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
â”‚
â”œâ”€â”€ templates/          # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ - ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ ProjectListTemplate.kt   # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â””â”€â”€ RoomEditorTemplate.kt    # éƒ¨å±‹ç·¨é›†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚
â”œâ”€â”€ pages/              # ãƒšãƒ¼ã‚¸ - ViewModelã¨æ¥ç¶š
â”‚   â””â”€â”€ ProjectListPage.kt       # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸
â”‚
â”œâ”€â”€ component/          # æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆæ®µéšçš„ã«ç§»è¡Œä¸­ï¼‰
â”œâ”€â”€ screen/             # æ—¢å­˜ç”»é¢ï¼ˆæ®µéšçš„ã«ç§»è¡Œä¸­ï¼‰
â”œâ”€â”€ state/              # UIçŠ¶æ…‹å®šç¾©
â””â”€â”€ viewmodel/          # ViewModel
```

## Atomic Design Hierarchy

### 1. Atoms (åŸå­) - `ui/atoms/`
æœ€å°å˜ä½ã§ã€ãã‚Œä»¥ä¸Šåˆ†è§£ã§ããªã„UIè¦ç´ ã€‚

**ç‰¹å¾´:**
- å˜ç‹¬ã§æ„å‘³ã‚’æŒã¤
- å†åˆ©ç”¨æ€§ãŒæœ€ã‚‚é«˜ã„
- ã‚¢ãƒ—ãƒªå…¨ä½“ã§çµ±ä¸€ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«

**ä¾‹:**
- `AppButton` - ãƒœã‚¿ãƒ³
- `AppText` - ãƒ†ã‚­ã‚¹ãƒˆ
- `AppCard` - ã‚«ãƒ¼ãƒ‰
- `AppIcon` - ã‚¢ã‚¤ã‚³ãƒ³

### 2. Molecules (åˆ†å­) - `ui/molecules/`
è¤‡æ•°ã®Atomsã‚’çµ„ã¿åˆã‚ã›ã¦ã€ç‰¹å®šã®æ©Ÿèƒ½ã‚’æŒãŸã›ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

**ç‰¹å¾´:**
- å˜ä¸€ã®æ©Ÿèƒ½ã‚’æŒã¤
- Atomsã§æ§‹æˆã•ã‚Œã‚‹
- ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã‚’å—ã‘å–ã‚‹

**ä¾‹:**
- `SaveStateIndicator` - ä¿å­˜çŠ¶æ…‹ã®è¡¨ç¤º
- `ProjectCardItem` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚«ãƒ¼ãƒ‰ï¼ˆç”»åƒã€ãƒ†ã‚­ã‚¹ãƒˆã€å‰Šé™¤ãƒœã‚¿ãƒ³ï¼‰
- `EmptyStateMessage` - ç©ºçŠ¶æ…‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

### 3. Organisms (æœ‰æ©Ÿä½“) - `ui/organisms/`
Moleculesã‚„Atomsã‚’çµ„ã¿åˆã‚ã›ã¦ã€ç”»é¢ã®å¤§ããªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å½¢æˆã€‚

**ç‰¹å¾´:**
- è¤‡é›‘ãªUIæ§‹é€ 
- ãƒ‡ãƒ¼ã‚¿ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ‰±ã†
- ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã«è¿‘ã„

**ä¾‹:**
- `ProjectList` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã®è¡¨ç¤º
- `EditorToolbar` - ã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ„ãƒ¼ãƒ«ãƒãƒ¼

### 4. Templates (ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ) - `ui/templates/`
ãƒšãƒ¼ã‚¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ã€‚å…·ä½“çš„ãªãƒ‡ãƒ¼ã‚¿ã¯å«ã¾ãªã„ã€‚

**ç‰¹å¾´:**
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®éª¨çµ„ã¿
- Scaffoldãªã©ã®æ§‹é€ ã‚’å«ã‚€
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’Composableé–¢æ•°ã¨ã—ã¦å—ã‘å–ã‚‹

**ä¾‹:**
- `ProjectListTemplate` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- `RoomEditorTemplate` - éƒ¨å±‹ç·¨é›†ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

### 5. Pages (ãƒšãƒ¼ã‚¸) - `ui/pages/`
Templatesã«å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚¸ãƒƒã‚¯ã‚’æµã—è¾¼ã‚€ã€‚ViewModelã¨ã‚„ã‚Šå–ã‚Šã€‚

**ç‰¹å¾´:**
- ViewModelã‹ã‚‰çŠ¶æ…‹ã‚’å–å¾—
- ã‚¤ãƒ™ãƒ³ãƒˆã‚’ViewModelã¸é€ã‚‹
- State Down, Events Upã®ãƒ‘ã‚¿ãƒ¼ãƒ³

**ä¾‹:**
- `ProjectListPage` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ViewModel                       â”‚
â”‚  (State management, Business logic)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ State â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Page                           â”‚
â”‚  (Connects ViewModel to UI)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Props â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Template                          â”‚
â”‚  (Layout structure)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Content â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Organism                          â”‚
â”‚  (Complex UI sections)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Components â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Molecule                          â”‚
â”‚  (Functional groups)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Basic elements â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Atom                            â”‚
â”‚  (Basic UI elements)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Events flow up: Atom â†’ Molecule â†’ Organism â†’ Template â†’ Page â†’ ViewModel
State flows down: ViewModel â†’ Page â†’ Template â†’ Organism â†’ Molecule â†’ Atom
```

## Color Theme

ã‚¢ãƒ—ãƒªå…¨ä½“ã§çµ±ä¸€ã•ã‚ŒãŸæš–è‰²ç³»ã®ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ:

- **Primary**: æš–ã‹ã„ã‚ªãƒ¬ãƒ³ã‚¸ç³» (#E07A5F)
- **Secondary**: è½ã¡ç€ã„ãŸãƒ™ãƒ¼ã‚¸ãƒ¥ç³» (#F4D3B5)
- **Tertiary**: ã‚¢ã‚¯ã‚»ãƒ³ãƒˆç”¨ã®æš–è‰² (#D4A574)
- **Background**: æš–è‰²ç³»ã®èƒŒæ™¯ (#FFFBF7)

è©³ç´°ã¯ `docs/design/ColorPalette.md` ã‚’å‚ç…§ã€‚

## Usage Guidelines

### æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹å ´åˆ

1. **é©åˆ‡ãªå±¤ã‚’é¸æŠ**
   - æœ€å°å˜ä½ï¼Ÿ â†’ `atoms/`
   - è¤‡æ•°ã®Atomsã®çµ„ã¿åˆã‚ã›ï¼Ÿ â†’ `molecules/`
   - è¤‡é›‘ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼Ÿ â†’ `organisms/`
   - ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼Ÿ â†’ `templates/`
   - ViewModelæ¥ç¶šï¼Ÿ â†’ `pages/`

2. **å‘½åè¦å‰‡**
   - Atoms: `App[Element]` (ä¾‹: AppButton, AppText)
   - Molecules: `[Feature][Component]` (ä¾‹: SaveStateIndicator, ProjectCardItem)
   - Organisms: `[Feature][Section]` (ä¾‹: ProjectList, EditorToolbar)
   - Templates: `[Screen]Template` (ä¾‹: ProjectListTemplate)
   - Pages: `[Screen]Page` (ä¾‹: ProjectListPage)

3. **Propsè¨­è¨ˆ**
   - ãƒ‡ãƒ¼ã‚¿ã¯ä¸Šã‹ã‚‰ä¸‹ã¸
   - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã¯ä¸Šã¸ä¼ãˆã‚‹
   - Modifierã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã‚ŠStateã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å„ªå…ˆ

### æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ç§»è¡Œ

æ—¢å­˜ã® `component/` ã¨ `screen/` ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ®µéšçš„ã«ç§»è¡Œä¸­:

1. æ–°ã—ã„Atomic Designã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ
2. æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’äº’æ›æ€§ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ãƒ©ãƒƒãƒ—
3. æ®µéšçš„ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

## Documentation

è©³ç´°ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ `docs/design/` ã«ã‚ã‚Šã¾ã™:

- `AtomicDesign.md` - Atomic Designæ§‹é€ ã®èª¬æ˜
- `AtomicDesignImplementation.md` - å®Ÿè£…ã®è©³ç´°
- `ComponentCatalog.md` - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚«ã‚¿ãƒ­ã‚°ã¨ä½¿ç”¨ä¾‹
- `ColorPalette.md` - ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã®è©³ç´°

## Examples

### Atomä½¿ç”¨ä¾‹

```kotlin
AppButton(
    text = "ä¿å­˜",
    onClick = { /* action */ }
)
```

### Moleculeä½¿ç”¨ä¾‹

```kotlin
SaveStateIndicator(
    saveState = SaveState.Saved,
    onRetry = { /* retry */ }
)
```

### Organismä½¿ç”¨ä¾‹

```kotlin
ProjectList(
    projects = listOf(project1, project2),
    onProjectClick = { id -> /* open */ },
    onProjectDelete = { id -> /* delete */ }
)
```

### Templateä½¿ç”¨ä¾‹

```kotlin
ProjectListTemplate(
    onCreateNew = { /* create */ }
) { paddingValues ->
    // Content with paddingValues
}
```

### Pageä½¿ç”¨ä¾‹

```kotlin
ProjectListPage(
    viewModel = viewModel,
    onProjectClick = { id -> /* navigate */ },
    onCreateNew = { /* navigate */ }
)
```

## Best Practices

1. **Single Responsibility**: å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å˜ä¸€ã®è²¬å‹™ã‚’æŒã¤
2. **Composition over Inheritance**: ç¶™æ‰¿ã‚ˆã‚Šåˆæˆã‚’å„ªå…ˆ
3. **Immutable Props**: propsã¯ä¸å¤‰ã«ã™ã‚‹
4. **State Hoisting**: çŠ¶æ…‹ã¯é©åˆ‡ãªå±¤ã«é…ç½®
5. **Testability**: ãƒ†ã‚¹ãƒˆå¯èƒ½ãªè¨­è¨ˆ
6. **Accessibility**: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’è€ƒæ…®
7. **Performance**: rememberã€LaunchedEffectã‚’é©åˆ‡ã«ä½¿ç”¨

## Contributing

æ–°ã—ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã¯:

1. é©åˆ‡ãªéšå±¤ã«é…ç½®
2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 
3. ComponentCatalogã«ä½¿ç”¨ä¾‹ã‚’è¿½åŠ 
4. æ—¢å­˜ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰ã«å¾“ã†
5. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’ç¢ºä¿

## Migration Status

- âœ… Atomic Designæ§‹é€ ã®ä½œæˆ
- âœ… ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã®å®šç¾©
- âœ… åŸºæœ¬Atomsã®å®Ÿè£…
- âœ… ProjectListScreenã®ç§»è¡Œ
- âœ… RoomScreenã€FurnitureScreenã®éƒ¨åˆ†çš„ãªæ›´æ–°
- ğŸ”„ ãã®ä»–ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ®µéšçš„ç§»è¡Œï¼ˆé€²è¡Œä¸­ï¼‰

---

For more information, see the documentation in `docs/design/`.
